(this["webpackJsonpnews-explorer-frontend"]=this["webpackJsonpnews-explorer-frontend"]||[]).push([[0],Array(31).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),i=n.n(s),c=n(23),r=n.n(c),o=n(8),l=(n(31),n(14)),d=n(2),u=n(3),p=(n(32),n(33),n.p+"static/media/Logo-white.8cf44f59.svg"),h=(n(34),n(35),n.p+"static/media/Union-exit-black.42a4a478.svg"),b=n.p+"static/media/Union-exit-white.66820815.svg",_=i.a.createContext();var m=function(e){var t=e.isLoggedIn,n=e.pathname,s=e.openLoginPopup,c=e.isMenu,r=e.onExit,o=i.a.useContext(_);return Object(a.jsx)("button",{type:"button",onClick:function(){t?r():s()},className:"nav-button ".concat("/"===n?"nav-button_type_white":"nav-button_type_black"," ").concat(c?"nav-button_mobile":""),children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"nav-button__text ".concat("/"===n?"nav-button__text_type_white":"nav-button__text_type_black"),children:o.name}),Object(a.jsx)("img",{className:"nav-button__icon",alt:"",src:"".concat("/"===n?b:h)})]}):Object(a.jsx)("span",{className:"nav-button__text ".concat("/"===n?"nav-button__text_type_white":"nav-button__text_type_black"),children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})};var j=function(e){var t=e.isLoggedIn,n=e.pathname,s=e.openLoginPopup,i=e.isMenu,c=e.closeMenu,r=e.onExit;function l(){i&&c()}return Object(a.jsxs)("nav",{className:"navigation ".concat(i?"navigation_mobile":""),children:[Object(a.jsx)(o.b,{to:"/",className:function(){var e="navigation__link";return"/"!==n||i?"/"===n||i?"/"===n&&i?e+=" navigation__link_active_white-mobile navigation__link_white navigation__link_padding-none":"/"!==n&&i&&(e+=" navigation__link_black navigation__link_padding-none"):e+=" navigation__link_black":e+=" navigation__link_active_white navigation__link_white",e}(),onClick:l,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),t&&Object(a.jsx)(o.b,{to:"/saved-news",className:function(){var e="navigation__link";return"/"!==n||i?"/saved-news"!==n||i?"/saved-news"===n&&i?e+=" navigation__link_active_black-mobile navigation__link_black navigation__link_padding-none":"/"===n&&i&&(e+=" navigation__link_white navigation__link_padding-none"):e+=" navigation__link_active_black navigation__link_black":e+=" navigation__link_white",e}(),onClick:l,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(a.jsx)(m,{isLoggedIn:t,pathname:n,openLoginPopup:s,isMenu:i,onExit:r})]})},g=n.p+"static/media/Logo-black.20bf9983.svg";var f=function(e){var t=e.pathname,n=e.isHiddenHeaderButton,s=e.isLoggedIn,i=e.openLoginPopup,c=e.isMenu,r=e.handleMenu,o=e.isButtonActive,l=e.handleButtonMenu,d=e.closeMenu,u=e.onExit;return Object(a.jsx)("header",{className:function(){var e="header";return"/"!==t||c?"/"===t||c?"/"===t&&c?e+=" header_bg_dark header_position_relative":"/"!==t&&c&&(e+=" header_bg_white header_position_relative"):e+=" header_bg_white header_position_fixed":e+=" header_bg_img header_position_fixed",e}(),children:Object(a.jsxs)("div",{className:"header__container",children:[Object(a.jsx)("img",{className:"header__logo",alt:"",src:"".concat("/"===t?p:g)}),!n&&Object(a.jsx)("span",{className:"header__burger-button ".concat("/"===t?"header__burger-button_white":"header__burger-button_black"," ").concat(o?"header__burger-button_active":""),onClick:function(){l(),r()},role:"button","aria-hidden":"true"}),!c&&Object(a.jsx)(j,{isLoggedIn:s,pathname:t,openLoginPopup:i,isMenu:c,closeMenu:d,onExit:u})]})})},v=(n(41),n.p+"static/media/GitHub.f552bbf6.svg"),O=n.p+"static/media/Facebook.f62b7f7f.svg";var x=function(){return Object(a.jsx)("footer",{className:"footer",children:Object(a.jsxs)("div",{className:"footer__container",children:[Object(a.jsxs)("div",{className:"footer__links",children:[Object(a.jsxs)("ul",{className:"footer__ul footer__ul_type_links",children:[Object(a.jsx)("li",{className:"footer__li",children:Object(a.jsx)(o.b,{className:"footer__link",to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(a.jsx)("li",{className:"footer__li",children:Object(a.jsx)("a",{className:"footer__link",href:"https://praktikum.yandex.ru/web/",target:"_blank",rel:"noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})})]}),Object(a.jsxs)("ul",{className:"footer__ul footer__ul_type_socials",children:[Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"https://github.com/VKovrigina",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("img",{className:"footer__socials-icon",alt:"GitHub",src:v})})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"https://praktikum.yandex.ru/web/",target:"_blank",rel:"noreferrer",children:Object(a.jsx)("img",{className:"footer__socials-icon",alt:"Facebook",src:O})})})]})]}),Object(a.jsx)("p",{className:"footer__copyright",children:"\xa9Supersite, Powered by News API"})]})})},N=(n(42),n(43),n(13)),y=n(10);var k=function(){var e=i.a.useState({}),t=Object(d.a)(e,2),n=t[0],a=t[1],c=i.a.useState({}),r=Object(d.a)(c,2),o=r[0],l=r[1],u=i.a.useState(!1),p=Object(d.a)(u,2),h=p[0],b=p[1],_=Object(s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a(e),l(t),b(n)}),[a,l,b]);return{values:n,handleChange:function(e){var t=e.target,s=t.name,i=t.value;a(Object(y.a)(Object(y.a)({},n),{},Object(N.a)({},s,i))),l(Object(y.a)(Object(y.a)({},o),{},Object(N.a)({},s,t.validationMessage))),b(t.closest("form").checkValidity())},errors:o,isValid:h,resetForm:_}};var w=function(e){var t=e.onSubmit,n=e.isLoading,s=k(),c=s.values,r=s.handleChange,o=s.errors,l=s.isValid,d=s.resetForm;function u(){return!(l&&!n)}return i.a.useEffect((function(){d()}),[d]),Object(a.jsx)("section",{className:"search-form",children:Object(a.jsxs)("div",{className:"search-form__container",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"search-form__title",children:"\u0427\u0442\u043e \u0442\u0432\u043e\u0440\u0438\u0442\u0441\u044f \u0432 \u043c\u0438\u0440\u0435?"}),Object(a.jsx)("p",{className:"search-form__description",children:"\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u0441\u0430\u043c\u044b\u0435 \u0441\u0432\u0435\u0436\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438 \u043d\u0430 \u043b\u044e\u0431\u0443\u044e \u0442\u0435\u043c\u0443 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0432 \u0441\u0432\u043e\u0451\u043c \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435."})]}),o.article&&Object(a.jsx)("span",{className:"search-form__span-error",children:o.article}),Object(a.jsxs)("form",{className:"search-form__form",onSubmit:function(e){e.preventDefault(),t(c.article)},noValidate:!0,children:[Object(a.jsx)("input",{className:"search-form__input",placeholder:JSON.parse(localStorage.getItem("keyword"))||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e",required:!0,name:"article",type:"text",minLength:"1",maxLength:"30",value:c.article||"",onChange:r}),Object(a.jsx)("button",{className:"search-form__submit-button ".concat(u()?"search-form__submit-button_inactive":"search-form__submit-button_active"),type:"submit",disabled:u(),children:"\u0418\u0441\u043a\u0430\u0442\u044c"})]})]})})},S=(n(44),n.p+"static/media/not-found.40bbae81.svg");n(45);var A=function(e){var t=e.isMainPage;return Object(a.jsxs)("div",{className:"not-found",children:[Object(a.jsx)("img",{alt:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",src:S}),Object(a.jsx)("p",{className:"not-found__title",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),Object(a.jsx)("p",{className:"not-found__description",children:"".concat(t?"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e.":"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043d\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0442\u0435\u0439...")})]})},L=(n(46),n(47),n.p+"static/media/Book-mark-inactive.d5ab2c6e.svg"),E=n.p+"static/media/Book-mark-active.82bf874f.svg",C=n.p+"static/media/DeleteIcon.a1ace43f.svg";var P=function(e){var t=e.isMainPage,n=e.isLoggedIn,s=e.isSave,i=e.saveArticle,c=e.deleteArticle;function r(){var e;return n?t&&!s&&n?e="C\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e":t&&s&&n?e="\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445":t||(e="\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445"):e="\u0412\u043e\u0439\u0434\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u0438",e}return Object(a.jsx)("button",{className:function(){var e="news-card__button";return e+=t&&s?" news-card__button_active":" news-card__button_inactive"}(),type:"button","data-tooltip":r(),"aria-label":r(),onClick:function(){n&&!s&&t&&i(),n&&s&&c()},disabled:!n,children:Object(a.jsx)("img",{className:"news-card__button-img",src:t&&s?E:t&&!s?L:C,alt:r()})})},I=n.p+"static/media/image_04.f6ade60d.jpg",M={getSevenDaysAgoDate:function(){var e=new Date;return e.setDate(e.getDate()-7),e.toISOString().split("T")[0]},getCurrentDate:function(){return(new Date).toISOString().split("T")[0]},key:"e7f9ea0f4c6648ad9d59c29246d45eef",baseUrl:"https://nomoreparties.co/news"},B=["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"],D="\u0423\u043f\u0441! \u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u043b\u043e\u043c\u0430\u043b\u043e\u0441\u044c :(";var T=function(e){var t=e.isMainPage,n=e.isLoggedIn,s=e.saveArticle,i=e.deleteArticle,c=e.keyword,r=e.title,o=e.text,l=e.date,d=e.source,u=e.link,p=e.image,h=e._id,b=void 0===h?void 0:h,_=void 0!==b;return Object(a.jsxs)("article",{className:"news-card",children:[Object(a.jsx)(P,{isMainPage:t,isLoggedIn:n,isSave:_,saveArticle:function(){s(r,o,l,d,u,null!==p?p:"https://images.unsplash.com/photo-1607178289618-21847c3f7cc0?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1351&q=80")},deleteArticle:function(){i(b)}}),!t&&Object(a.jsx)("div",{className:"news-card__keyword",children:c}),Object(a.jsxs)("a",{className:"news-card__link",target:"_blank",rel:"noreferrer",href:u,children:[Object(a.jsx)("img",{className:"news-card__img",src:p,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043a \u0441\u0442\u0430\u0442\u044c\u0435",onError:function(e){e.target.src=I}}),Object(a.jsxs)("div",{className:"news-card__description",children:[Object(a.jsx)("p",{className:"news-card__date",children:l}),Object(a.jsx)("h3",{className:"news-card__title",children:r}),Object(a.jsx)("p",{className:"news-card__text",children:o}),Object(a.jsx)("p",{className:"news-card__source",children:d})]})]})]})};n(48);var V=function(){return Object(a.jsxs)("div",{className:"preloader",children:[Object(a.jsx)("i",{className:"preloader__circle"}),Object(a.jsx)("p",{className:"preloader__description",children:"\u0418\u0434\u0435\u0442 \u043f\u043e\u0438\u0441\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439..."})]})};n(49);var J=function(){return Object(a.jsx)("div",{className:"error",children:Object(a.jsx)("p",{className:"error__description",children:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"})})};var F=function(e){var t=e.isMainPage,n=e.articles,s=e.isLoggedIn,i=e.isPreloaderVisible,c=e.handleShowMoreButton,r=e.additionalArticles,o=e.saveArticle,l=e.deleteArticle,d=e.isNewsApiError;return Object(a.jsx)("section",{className:"news-card-list",children:Object(a.jsxs)("div",{className:"news-card-list__container",children:[t&&n.length>0&&!i&&Object(a.jsx)("h2",{className:"news-card-list__title",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"}),n.length>0&&Object(a.jsx)("div",{className:"news-card-list__card-container",children:n.map((function(e){return Object(a.jsx)(T,Object(y.a)({isLoggedIn:s,isMainPage:t,saveArticle:o,deleteArticle:l},e),[e.link,e.title,e.text])}))}),t&&!i&&0!==r.length&&Object(a.jsx)("button",{className:"news-card-list__button",type:"button",onClick:c,children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"}),i&&Object(a.jsx)(V,{}),0===n.length&&!i&&!d&&Object(a.jsx)(A,{isMainPage:t}),d&&Object(a.jsx)(J,{})]})})},U=(n(50),n.p+"static/media/author-photo.36397e9f.jpg");var H=function(){return Object(a.jsx)("section",{className:"about",children:Object(a.jsxs)("div",{className:"about__container",children:[Object(a.jsx)("img",{className:"about__author-photo",alt:"\u0424\u043e\u0442\u043e \u0430\u0432\u0442\u043e\u0440\u0430",src:U}),Object(a.jsxs)("div",{className:"about__content",children:[Object(a.jsx)("h2",{className:"about__title",children:"\u041e\u0431 \u0430\u0432\u0442\u043e\u0440\u0435"}),Object(a.jsx)("p",{className:"about__paragraph",children:"\u041f\u0440\u0438\u0432\u0435\u0442! \u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442 \u0412\u0430\u0440\u044f, \u0438 \u044f \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0439 frontend-developer. \u0417\u043d\u0430\u044e \u043a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 JavaScript, CSS, ReactJS, NodeJS, MongoDB :)"}),Object(a.jsx)("p",{className:"about__paragraph",children:'\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u0432 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u043d\u0430 \u0441\u0435\u0431\u0435 \u043f\u0440\u043e\u0447\u0443\u0432\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0430 \u0444\u0440\u0430\u0437\u0443: "The more I learn, the more I realise how much i don`t know ". \u041d\u0435 \u0441\u043e\u0431\u0438\u0440\u0430\u044e\u0441\u044c \u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u0438 \u043d\u043e\u0432\u044b\u0445 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439 :)'})]})]})})};var R=function(e){var t=e.articles,n=e.additionalArticles,s=e.isLoggedIn,i=e.handleSearchFormSubmit,c=e.isNewsCardListVisible,r=e.isPreloaderVisible,o=e.handleShowMoreButton,l=e.saveArticle,d=e.deleteArticle,u=e.isNewsApiError,p=e.isFormLoading;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{onSubmit:i,isLoading:p}),c&&Object(a.jsx)(F,{isMainPage:!0,articles:t,additionalArticles:n,isLoggedIn:s,isPreloaderVisible:r,handleShowMoreButton:o,saveArticle:l,deleteArticle:d,isNewsApiError:u}),Object(a.jsx)(H,{})]})};n(51),n(52);var q=function(e){var t=e.articles,n=i.a.useContext(_),s=i.a.useState([]),c=Object(d.a)(s,2),r=c[0],o=c[1],l=t.length,u=Number(r.length.toString().split("").pop()),p=t.map((function(e){return e.keyword}));return i.a.useEffect((function(){!function(){var e=p.reduce((function(e,t){return e[t]?e[t]+=1:e[t]=1,e}),{}),t=Object.entries(e).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]}));o(t)}()}),[t]),Object(a.jsx)("section",{className:"saved-news-header",children:Object(a.jsxs)("div",{className:"saved-news-header__container",children:[Object(a.jsx)("p",{className:"saved-news-header__heading",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(a.jsx)("h1",{className:"saved-news-header__title",children:"".concat(n.name,", \u0443 \u0432\u0430\u0441 ").concat(l," ").concat(function(){var e;return(0===l||11===l||l>=5&&1!==u)&&(e="\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0442\u0435\u0439"),(1===l||11!==l&&1===u)&&(e="\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f"),l>1&&l<5&&(e="\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"),e}())}),l>0&&Object(a.jsxs)("p",{className:"saved-news-header__keywords",children:["".concat(function(){var e;return(1===r.length||r.length>1&&11!==r.length&&1===u)&&(e="\u041f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u043c\u0443 \u0441\u043b\u043e\u0432\u0443"),r.length>1&&(e="\u041f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c"),e}(),":"),"\xa0",1===r.length&&Object(a.jsx)("span",{className:"saved-news-header__keyword",children:r[0]}),2===r.length&&Object(a.jsx)("span",{className:"saved-news-header__keyword",children:"".concat(r[0],", ").concat(r[1])}),3===r.length&&Object(a.jsx)("span",{className:"saved-news-header__keyword",children:"".concat(r[0],", ").concat(r[1]," \u0438 ").concat(r[2])}),r.length>3&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"saved-news-header__keyword",children:"".concat(r[0],", ").concat(r[1])}),"\xa0\u0438\xa0",Object(a.jsx)("span",{className:"saved-news-header__keyword",children:"".concat(r.length-2).concat(function(){var e;return l-2<5&&(e="-\u043c"),l-2>=5&&(e="-\u0438"),e}()," \u0434\u0440\u0443\u0433\u0438\u043c")})]})]})]})})};var G=function(e){var t=e.articles,n=e.isLoggedIn,s=e.deleteArticle;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(q,{articles:t}),Object(a.jsx)(F,{isMainPage:!1,articles:t,isLoggedIn:n,deleteArticle:s})]})};n(53);var K=function(e){var t=e.title,n=e.children,s=e.onClose,c=e.isOpen,r=e.closeByEscAndOverlay,o=e.buttonText,l=e.linkText,d=e.handleLinkClick,u=e.isMessagePopup,p=e.isErrorPopup,h=e.isButtonValid,b=e.errorMessage,_=e.onSubmit,m=e.isLoading;function j(){d()}function g(){return!(h&&!m)}return i.a.useEffect((function(){r()})),Object(a.jsx)("div",{className:"popup ".concat(c?"popup_open":""),children:Object(a.jsxs)("div",{className:"popup__container",children:[Object(a.jsx)("span",{className:"popup__close-button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:s,role:"button","aria-hidden":"true"}),Object(a.jsxs)("form",{className:"popup__form",method:"get",action:"#",onSubmit:_,noValidate:!0,children:[Object(a.jsx)("h2",{className:"popup__form-title ".concat(p?"popup__form-title_error":""),children:t}),u?Object(a.jsx)("button",{className:"popup__form-link popup__form-link_type_m",type:"button",onClick:j,children:l}):Object(a.jsxs)(a.Fragment,{children:[n,Object(a.jsx)("span",{className:"popup__span-error popup__span-error_position_center",children:b}),Object(a.jsx)("button",{className:"popup__form-button ".concat(g()?"popup__form-button_disable":"popup__form-button_active"),type:"submit",disabled:g(),children:o}),Object(a.jsxs)("p",{className:"popup__form-paragraph",children:["\u0438\u043b\u0438\xa0",Object(a.jsx)("button",{className:"popup__form-link popup__form-link_type_s",type:"button",onClick:j,children:l})]})]})]})]})})};var z=function(e){var t=e.onClose,n=e.isOpen,s=e.closeByEscAndOverlay,c=e.openRegisterPopup,r=e.loginErrorMessage,o=e.onSubmit,l=e.isLoading,d=k(),u=d.values,p=d.handleChange,h=d.errors,b=d.isValid,_=d.resetForm;return i.a.useEffect((function(){_()}),[t,_,n]),Object(a.jsxs)(K,{title:"\u0412\u0445\u043e\u0434",onClose:t,isOpen:n,closeByEscAndOverlay:s,isMessagePopup:!1,isErrorPopup:!1,buttonText:"\u0412\u043e\u0439\u0442\u0438",linkText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",handleLinkClick:function(){t(),c()},errorMessage:r,isButtonValid:b,onSubmit:function(e){e.preventDefault(),o(u.loginEmail,u.loginPassword)},isLoading:l,children:[Object(a.jsx)("label",{htmlFor:"login-email",className:"popup__form-label",children:"Email"}),Object(a.jsx)("input",{type:"email",id:"login-email",className:"popup__form-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",value:u.loginEmail||"",name:"loginEmail",onChange:p,required:!0}),Object(a.jsx)("span",{className:"popup__span-error",children:h.loginEmail}),Object(a.jsx)("label",{htmlFor:"login-password",className:"popup__form-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(a.jsx)("input",{type:"password",id:"login-password",className:"popup__form-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",value:u.loginPassword||"",name:"loginPassword",onChange:p,minLength:"5",maxLength:"30",required:!0}),Object(a.jsx)("span",{className:"popup__span-error",children:h.loginPassword})]})};var W=function(e){var t=e.onClose,n=e.isOpen,s=e.closeByEscAndOverlay,c=e.openLoginPopup,r=e.registerErrorMessage,o=e.onSubmit,l=e.isLoading,d=k(),u=d.values,p=d.handleChange,h=d.errors,b=d.isValid,_=d.resetForm;return i.a.useEffect((function(){_()}),[t,n]),Object(a.jsxs)(K,{title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",onClose:t,isOpen:n,closeByEscAndOverlay:s,isMessagePopup:!1,isErrorPopup:!1,buttonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",linkText:"\u0412\u043e\u0439\u0442\u0438",handleLinkClick:function(){t(),c()},isButtonValid:b,errorMessage:r,onSubmit:function(e){e.preventDefault(),o(u.registerName,u.registerEmail,u.registerPassword)},isLoading:l,children:[Object(a.jsx)("label",{htmlFor:"register-email",className:"popup__form-label",children:"Email"}),Object(a.jsx)("input",{type:"email",id:"register-email",className:"popup__form-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",value:u.registerEmail||"",name:"registerEmail",onChange:p,required:!0}),Object(a.jsx)("span",{className:"popup__span-error",children:h.registerEmail}),Object(a.jsx)("label",{htmlFor:"register-password",className:"popup__form-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(a.jsx)("input",{type:"password",id:"register-password",className:"popup__form-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",value:u.registerPassword||"",name:"registerPassword",onChange:p,minLength:"5",maxLength:"30",required:!0}),Object(a.jsx)("span",{className:"popup__span-error",children:h.registerPassword}),Object(a.jsx)("label",{htmlFor:"register-name",className:"popup__form-label",children:"\u0418\u043c\u044f"}),Object(a.jsx)("input",{type:"text",id:"register-name",className:"popup__form-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0435 \u0438\u043c\u044f",value:u.registerName||"",name:"registerName",onChange:p,minLength:"2",maxLength:"30",required:!0}),Object(a.jsx)("span",{className:"popup__span-error",children:h.registerName})]})};var X=function(e){var t=e.onClose,n=e.isOpen,s=e.closeByEscAndOverlay,i=e.openLoginPopup;return Object(a.jsx)(K,{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d!",onClose:t,isOpen:n,closeByEscAndOverlay:s,isMessagePopup:!0,isErrorPopup:!1,buttonText:"",linkText:"\u0412\u043e\u0439\u0442\u0438",handleLinkClick:function(){t(),i()}})};var Y=function(e){var t=e.onClose,n=e.isOpen,s=e.closeByEscAndOverlay,i=e.errorText;return Object(a.jsx)(K,{title:i,onClose:t,isOpen:n,closeByEscAndOverlay:s,isMessagePopup:!0,isErrorPopup:!0,buttonText:"",linkText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",handleLinkClick:t})};n(54);var Q=function(e){var t=e.isOpen,n=e.pathname,s=e.isLoggedIn,c=e.openLoginPopup,r=e.handleMenu,o=e.isButtonActive,l=e.handleButtonMenu,d=e.closeByEscAndOverlay,u=e.isHiddenHeaderButton,p=e.closeMenu,h=e.onExit;return i.a.useEffect((function(){d()})),Object(a.jsxs)("div",{className:"menu ".concat(t?"menu_open":""),children:[Object(a.jsx)(f,{pathname:n,isLoggedIn:s,isMenu:!0,handleMenu:r,openLoginPopup:c,isButtonActive:o,handleButtonMenu:l,isHiddenHeaderButton:u,closeMenu:p,onExit:h}),Object(a.jsx)("div",{className:"menu__container ".concat("/"!==n?"menu__container_white":""),children:Object(a.jsx)(j,{isLoggedIn:s,pathname:n,openLoginPopup:c,isMenu:!0,closeMenu:p,onExit:h})})]})},Z=n(25),$=function(e){var t=e.component,n=e.isUserLoggedIn,s=e.openLoginPopup,c=e.updateSavedArticles,r=Object(Z.a)(e,["component","isUserLoggedIn","openLoginPopup","updateSavedArticles"]);return i.a.useEffect((function(){n||s(),n&&c()}),[]),Object(a.jsx)(u.b,{children:n?Object(a.jsx)(t,Object(y.a)({isLoggedIn:n},r)):Object(a.jsx)(u.a,{to:"./"})})},ee=n(16),te=n(17),ne=new(function(){function e(t){Object(ee.a)(this,e),this._getSevenDaysAgoDate=t.getSevenDaysAgoDate,this._getCurrentDate=t.getCurrentDate,this._key=t.key,this._baseUrl=t.baseUrl}return Object(te.a)(e,[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject(e.json())}},{key:"getArticles",value:function(e){return fetch("".concat(this._baseUrl,"/v2/everything?q=").concat(e,"&from=").concat(this._getSevenDaysAgoDate(),"&to=").concat(this._getCurrentDate(),"&sortBy=popularity&pageSize=100&apiKey=").concat(this._key)).then(this._handleResponse)}}]),e}())(M),ae=new(function(){function e(t){Object(ee.a)(this,e),this._headers=t.headers,this._baseUrl=t.baseUrl}return Object(te.a)(e,[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject(e.json())}},{key:"register",value:function(e,t,n){return fetch("".concat(this._baseUrl,"/signup"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,email:t,password:n})}).then(this._handleResponse)}},{key:"login",value:function(e,t){return fetch("".concat(this._baseUrl,"/signin"),{method:"POST",credentials:"include",headers:this._headers,body:JSON.stringify({email:e,password:t})}).then(this._handleResponse)}},{key:"logout",value:function(){return fetch("".concat(this._baseUrl,"/logout"),{method:"GET",credentials:"include",headers:this._headers}).then(this._handleResponse)}},{key:"getContent",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",credentials:"include",headers:this._headers}).then(this._handleResponse)}},{key:"createArticle",value:function(e,t,n,a,s,i){return fetch("".concat(this._baseUrl,"/articles"),{method:"POST",credentials:"include",headers:this._headers,body:JSON.stringify({keyword:JSON.parse(localStorage.getItem("keyword")),title:e,text:t,date:n,source:a,link:s,image:i})}).then(this._handleResponse)}},{key:"getSavedArticles",value:function(){return fetch("".concat(this._baseUrl,"/articles"),{method:"GET",credentials:"include",headers:this._headers}).then(this._handleResponse)}},{key:"deleteArticleById",value:function(e){return fetch("".concat(this._baseUrl,"/articles/").concat(e),{method:"DELETE",credentials:"include",headers:this._headers}).then(this._handleResponse)}}]),e}())({baseUrl:"https://api.new-s.students.nomoreparties.co",headers:{"Content-Type":"application/json"}});var se=function(){var e=Object(u.g)(),t=i.a.useState(!1),n=Object(d.a)(t,2),s=n[0],c=n[1],r=i.a.useState({}),o=Object(d.a)(r,2),p=o[0],h=o[1],b=i.a.useState(!1),m=Object(d.a)(b,2),j=m[0],g=m[1],v=i.a.useState(!1),O=Object(d.a)(v,2),N=O[0],y=O[1],k=i.a.useState(!1),w=Object(d.a)(k,2),S=w[0],A=w[1],L=i.a.useState(!1),E=Object(d.a)(L,2),C=E[0],P=E[1],I=i.a.useState(""),M=Object(d.a)(I,2),T=M[0],V=M[1],J=i.a.useState(""),F=Object(d.a)(J,2),U=F[0],H=F[1],q=i.a.useState(""),K=Object(d.a)(q,2),Z=K[0],ee=K[1],te=i.a.useState(!1),se=Object(d.a)(te,2),ie=se[0],ce=se[1],re=i.a.useState(!1),oe=Object(d.a)(re,2),le=oe[0],de=oe[1],ue=i.a.useState(JSON.parse(localStorage.getItem("currentArticles"))||[]),pe=Object(d.a)(ue,2),he=pe[0],be=pe[1],_e=i.a.useState(JSON.parse(localStorage.getItem("additionalArticles"))||[]),me=Object(d.a)(_e,2),je=me[0],ge=me[1],fe=i.a.useState([]),ve=Object(d.a)(fe,2),Oe=ve[0],xe=ve[1],Ne=i.a.useState(JSON.parse(localStorage.getItem("isNewsCardListVisible"))||!1),ye=Object(d.a)(Ne,2),ke=ye[0],we=ye[1],Se=i.a.useState(!1),Ae=Object(d.a)(Se,2),Le=Ae[0],Ee=Ae[1],Ce=i.a.useState(!1),Pe=Object(d.a)(Ce,2),Ie=Pe[0],Me=Pe[1],Be=i.a.useState(!1),De=Object(d.a)(Be,2),Te=De[0],Ve=De[1];function Je(){ce(!1),de(!1)}function Fe(){ce(!ie)}function Ue(){de(!le)}function He(){return!!(N||j||S)}function Re(){g(!0),ee("")}function qe(){g(!1),A(!1),y(!1),P(!1)}function Ge(){function e(e){"Escape"===e.key&&qe()}function t(e){e.target.classList.contains("popup_open")&&qe(),e.target.classList.contains("menu_open")&&Je()}return document.addEventListener("click",t),document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e),document.removeEventListener("click",t)}}function Ke(e){var t=e.split("T")[0].split("-").reverse(),n="".concat(B[Number(t[1])-1],",");return t.splice(1,1,n),t.join(" ")}function ze(){ae.logout().then((function(){c(!1),localStorage.removeItem("additionalArticles"),localStorage.removeItem("currentArticles"),localStorage.removeItem("keyword"),localStorage.removeItem("isNewsCardListVisible")})).catch((function(e){try{e.then((function(e){V(e.message||D),P(!0)}))}catch(t){V(D),P(!0)}}))}function We(e){ae.deleteArticleById(e).then((function(){var t=Oe.filter((function(t){return t._id!==e}));if(xe(t),he.map((function(e){return e._id})).includes(e)){var n=he.find((function(t){return t._id===e})),a={keyword:n.keyword,title:n.title,text:n.text,date:n.date,source:n.source,link:n.link,image:n.image},s=he.map((function(t){return t._id===e?a:t}));be(s),localStorage.setItem("currentArticles",JSON.stringify(s))}})).catch((function(e){try{e.then((function(e){400===e.statusCode?V(e.validation.params.message||D):V(e.message||D),P(!0)}))}catch(t){V(D),P(!0)}}))}return i.a.useEffect((function(){Promise.all([ae.getContent(),ae.getSavedArticles()]).then((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1];n&&(c(!0),h({_id:n._id,name:n.name,email:n.email}),xe(a.data))})).catch((function(){c(!1)}))}),[s]),Object(a.jsx)("div",{className:"app",children:Object(a.jsxs)(_.Provider,{value:p,children:[Object(a.jsx)(f,{pathname:e.pathname,isLoggedIn:s,openLoginPopup:Re,isMenu:!1,handleMenu:Fe,isButtonActive:le,handleButtonMenu:Ue,isHiddenHeaderButton:He(),closeMenu:qe,onExit:ze}),Object(a.jsxs)(u.d,{children:[Object(a.jsx)(u.b,{exact:!0,path:"/",children:Object(a.jsx)(R,{articles:he,additionalArticles:je,isLoggedIn:s,handleSearchFormSubmit:function(e){we(!0),localStorage.setItem("keyword",JSON.stringify(e)),localStorage.setItem("isNewsCardListVisible",JSON.stringify(!0)),be([]),ge([]),Ee(!0),Ve(!0),ne.getArticles(e).then((function(t){var n=t.articles.map((function(t){return{keyword:e,title:t.title,text:t.description,date:Ke(t.publishedAt),source:t.source.name,link:t.url,image:t.urlToImage}})),a=n.splice(0,3);be(a),ge(n),a.length>0?localStorage.setItem("currentArticles",JSON.stringify(a)):localStorage.removeItem("currentArticles"),n.length>0?localStorage.setItem("additionalArticles",JSON.stringify(n)):localStorage.removeItem("additionalArticles")})).catch((function(){Me(!0),localStorage.removeItem("additionalArticles"),localStorage.removeItem("currentArticles"),localStorage.removeItem("keyword"),localStorage.removeItem("isNewsCardListVisible")})).finally((function(){Ee(!1),Ve(!1)}))},isNewsCardListVisible:ke,isPreloaderVisible:Le,handleShowMoreButton:function(){if(je.length>0){var e=je.splice(0,3);be([].concat(Object(l.a)(he),Object(l.a)(e))),localStorage.setItem("currentArticles",JSON.stringify([].concat(Object(l.a)(he),Object(l.a)(e)))),localStorage.setItem("additionalArticles",JSON.stringify(je))}else localStorage.removeItem("additionalArticles")},saveArticle:function(e,t,n,a,s,i){ae.createArticle(e,t,n,a,s,i).then((function(e){var t=e.data,n=he.map((function(e){return e.link===s?t:e}));be(n),localStorage.setItem("currentArticles",JSON.stringify(n))})).catch((function(e){try{e.then((function(e){400===e.statusCode?V(e.validation.body.message||D):V(e.message||D),P(!0)}))}catch(t){V(D),P(!0)}}))},deleteArticle:We,isNewsApiError:Ie,isFormLoading:Te})}),Object(a.jsx)($,{path:"/saved-news",component:G,isUserLoggedIn:s,articles:Oe,openLoginPopup:Re,updateSavedArticles:function(){ae.getSavedArticles().then((function(e){xe(e.data)})).catch((function(e){try{e.then((function(e){V(e.message||D),P(!0)}))}catch(t){V(D),P(!0)}}))},deleteArticle:We}),Object(a.jsx)(u.b,{children:Object(a.jsx)(u.a,{to:"/"})})]}),Object(a.jsx)(x,{}),Object(a.jsx)(z,{isOpen:j,closeByEscAndOverlay:Ge,onClose:qe,openRegisterPopup:function(){y(!0),H("")},loginErrorMessage:Z,onSubmit:function(e,t){Ve(!0),ae.login(e,t).then((function(){c(!0),ee(""),g(!1)})).catch((function(e){try{e.then((function(e){400===e.statusCode?ee(e.validation.body.message):ee(e.message)}))}catch(t){ee(D)}})).finally((function(){Ve(!1)}))},isLoading:Te}),Object(a.jsx)(W,{isOpen:N,closeByEscAndOverlay:Ge,onClose:qe,openLoginPopup:Re,registerErrorMessage:U,onSubmit:function(e,t,n){Ve(!0),ae.register(e,t,n).then((function(){H(""),y(!1),A(!0)})).catch((function(e){try{e.then((function(e){400===e.statusCode?H(e.validation.body.message):H(e.message)}))}catch(t){H(D)}})).finally((function(){Ve(!1)}))},isLoading:Te}),Object(a.jsx)(X,{isOpen:S,closeByEscAndOverlay:Ge,onClose:qe,openLoginPopup:Re}),Object(a.jsx)(Y,{isOpen:C,closeByEscAndOverlay:Ge,onClose:qe,errorText:T}),Object(a.jsx)(Q,{isOpen:ie,pathname:e.pathname,isLoggedIn:s,openLoginPopup:Re,handleMenu:Fe,isButtonActive:le,handleButtonMenu:Ue,closeByEscAndOverlay:Ge,isHiddenHeaderButton:He(),closeMenu:Je,onExit:ze})]})})};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(o.a,{children:Object(a.jsx)(se,{})})}),document.getElementById("root"))}]),[[55,1,2]]]);
//# sourceMappingURL=main.ad27fa26.chunk.js.map