{"version":3,"sources":["images/Logo-white.svg","images/Union-exit-black.svg","images/Union-exit-white.svg","contexts/CurrentUserContext.js","components/NavButton/NavButton.jsx","components/Navigation/Navigation.jsx","images/Logo-black.svg","components/Header/Header.jsx","images/GitHub.svg","images/Facebook.svg","components/Footer/Footer.jsx","hooks/useFormWithValidation.js","components/SearchForm/SearchForm.jsx","images/not-found.svg","components/NotFound/NotFound.jsx","images/Book-mark-inactive.svg","images/Book-mark-active.svg","images/DeleteIcon.svg","components/NewsCardButton/NewsCardButton.jsx","images/image_04.jpg","utils/constants.js","components/NewsCard/NewsCard.jsx","components/Preloader/Preloader.jsx","components/NewsServerError/NewsServerError.jsx","components/NewsCardList/NewsCardList.jsx","images/author-photo.jpg","components/About/About.jsx","components/Main/Main.jsx","components/SavedNewsHeader/SavedNewsHeader.jsx","components/SavedNews/SavedNews.jsx","components/PopupContainer/PopupContainer.jsx","components/LoginPopup/LoginPopup.jsx","components/RegisterPopup/RegisterPopup.jsx","components/UserRegisteredMessagePopup/UserRegisteredMessagePopup.jsx","components/ErrorPopup/ErrorPopup.jsx","components/MobileMenu/MobileMenu.jsx","components/ProtectedRoute/ProtectedRoute.jsx","utils/NewsApi.js","utils/MainApi.js","components/App/App.jsx","index.jsx"],"names":["CurrentUserContext","React","createContext","NavButton","isLoggedIn","pathname","openLoginPopup","isMenu","onExit","currentUser","useContext","type","onClick","className","name","alt","src","ExitIconWhite","ExitIconBlack","Navigation","closeMenu","closeMenuByClick","to","classes","mainLinkClasses","newsLinkClasses","Header","isHiddenHeaderButton","handleMenu","isButtonActive","handleButtonMenu","headerClasses","HeaderLogoWhite","HeaderLogoBlack","role","aria-hidden","Footer","href","target","rel","GitHub","Facebook","useFormWithValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","value","validationMessage","closest","checkValidity","SearchForm","onSubmit","isLoading","isButtonDisabled","useEffect","article","e","preventDefault","noValidate","placeholder","JSON","parse","localStorage","getItem","required","minLength","maxLength","onChange","disabled","NotFound","isMainPage","NotFoundIcon","NewsCardButton","isSave","saveArticle","deleteArticle","HelpText","text","buttonClasses","data-tooltip","aria-label","SaveCardActive","SaveCardInactive","DeleteCard","NEWS_API_OPTIONS","getSevenDaysAgoDate","currentDate","Date","setDate","getDate","toISOString","split","getCurrentDate","key","baseUrl","MONTH_NAMES","SERVER_ERROR_MESSAGE","NewsCard","keyword","title","date","source","link","image","_id","undefined","onError","img","Preloader","NewsServerError","NewsCardList","articles","isPreloaderVisible","handleShowMoreButton","additionalArticles","isNewsApiError","length","map","About","AuthorPhoto","Main","handleSearchFormSubmit","isNewsCardListVisible","isFormLoading","SavedNewsHeader","sortedKeywordsArray","setSortedKeywordsArray","savedArticlesLength","lastDigitArticlesLength","Number","toString","pop","keywordsArray","item","keywordRepeat","reduce","acc","cur","finishArray","Object","entries","sort","a","b","sortKeywordsArray","ending","endingDescription","endingKeywords","endingKeywordsLength","SavedNews","PopupContainer","children","onClose","isOpen","closeByEscAndOverlay","buttonText","linkText","handleLinkClick","isMessagePopup","isErrorPopup","isButtonValid","errorMessage","handleClick","method","action","LoginPopup","openRegisterPopup","loginErrorMessage","evt","loginEmail","loginPassword","htmlFor","id","RegisterPopup","registerErrorMessage","registerName","registerEmail","registerPassword","UserRegisteredMessagePopup","ErrorPopup","errorText","MobileMenu","ProtectedRoute","Component","component","isUserLoggedIn","updateSavedArticles","props","newsApi","options","this","_getSevenDaysAgoDate","_getCurrentDate","_key","_baseUrl","res","ok","json","Promise","reject","fetch","then","_handleResponse","mainApi","_headers","headers","userName","userEmail","userPassword","body","stringify","email","password","credentials","articleTitle","articleText","articleDate","articleSource","articleLink","articleImage","App","location","useLocation","setUserLoggedIn","setCurrentUser","isLoginPopupOpen","setIsLoginPopupOpen","isRegisterPopupOpen","setIsRegisterPopupOpen","isUserRegisteredPopupOpen","setIsUserRegisteredPopupOpen","isErrorPopupOpen","setErrorPopupOpen","popupErrorText","setPopupErrorText","setRegisterErrorMessage","setLoginErrorMessage","isMenuMobileOpen","setIsMenuMobileOpen","isButtonMenuActive","setIsButtonMenuActive","currentArticles","setCurrentArticles","setAdditionalArticles","savedArticles","setSavedArticles","setIsNewsCardListVisible","setIsPreloaderVisible","isNewsServerError","setNewsServerError","setFormLoading","handleCloseMenu","handleMenuMobile","handleMenuButtonMobile","handleLoginPopupOpen","closeAllPopups","closePopupByEscAndOverlay","handleEscClose","closeByOverlay","classList","contains","document","addEventListener","removeEventListener","changeDateFormat","newDate","reverse","newMonth","splice","join","handleExit","logout","removeItem","catch","err","message","handleDeleteArticle","deleteArticleById","newSavedArticles","filter","includes","deletedArticle","find","newArticle","newCurrArticles","setItem","statusCode","validation","params","all","getContent","getSavedArticles","userInfo","articlesInfo","data","Provider","exact","path","getArticles","description","publishedAt","url","urlToImage","firstArticles","finally","moreArticles","createArticle","newArticles","login","register","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ad27fa26.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo-white.8cf44f59.svg\";","export default __webpack_public_path__ + \"static/media/Union-exit-black.42a4a478.svg\";","export default __webpack_public_path__ + \"static/media/Union-exit-white.66820815.svg\";","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './NavButton.css';\nimport ExitIconBlack from '../../images/Union-exit-black.svg';\nimport ExitIconWhite from '../../images/Union-exit-white.svg';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\n\nfunction NavButton({\n  isLoggedIn, pathname, openLoginPopup, isMenu, onExit,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  function onClickFunction() {\n    if (!isLoggedIn) {\n      openLoginPopup();\n    } else {\n      onExit();\n    }\n  }\n  return (\n    <button type=\"button\" onClick={onClickFunction} className={`nav-button ${pathname === '/' ? 'nav-button_type_white' : 'nav-button_type_black'} ${isMenu ? 'nav-button_mobile' : ''}`}>\n      {isLoggedIn\n        ? (\n          <>\n            <span className={`nav-button__text ${pathname === '/' ? 'nav-button__text_type_white' : 'nav-button__text_type_black'}`}>{currentUser.name}</span>\n            <img className=\"nav-button__icon\" alt=\"\" src={`${pathname === '/' ? ExitIconWhite : ExitIconBlack}`} />\n          </>\n        )\n        : <span className={`nav-button__text ${pathname === '/' ? 'nav-button__text_type_white' : 'nav-button__text_type_black'}`}>Авторизоваться</span>}\n    </button>\n  );\n}\n\nNavButton.propTypes = {\n  isLoggedIn: PropTypes.bool.isRequired,\n  pathname: PropTypes.string.isRequired,\n  openLoginPopup: PropTypes.func.isRequired,\n  isMenu: PropTypes.bool.isRequired,\n  onExit: PropTypes.func.isRequired,\n};\n\nexport default NavButton;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './Navigation.css';\nimport NavButton from '../NavButton/NavButton';\n\nfunction Navigation({\n  isLoggedIn, pathname, openLoginPopup, isMenu, closeMenu, onExit,\n}) {\n  function mainLinkClasses() {\n    let classes = 'navigation__link';\n    if (pathname === '/' && !isMenu) {\n      classes += ' navigation__link_active_white navigation__link_white';\n    } else if (pathname !== '/' && !isMenu) {\n      classes += ' navigation__link_black';\n    } else if (pathname === '/' && isMenu) {\n      classes += ' navigation__link_active_white-mobile navigation__link_white navigation__link_padding-none';\n    } else if (pathname !== '/' && isMenu) {\n      classes += ' navigation__link_black navigation__link_padding-none';\n    }\n    return classes;\n  }\n  function newsLinkClasses() {\n    let classes = 'navigation__link';\n    if (pathname === '/' && !isMenu) {\n      classes += ' navigation__link_white';\n    } else if (pathname === '/saved-news' && !isMenu) {\n      classes += ' navigation__link_active_black navigation__link_black';\n    } else if (pathname === '/saved-news' && isMenu) {\n      classes += ' navigation__link_active_black-mobile navigation__link_black navigation__link_padding-none';\n    } else if (pathname === '/' && isMenu) {\n      classes += ' navigation__link_white navigation__link_padding-none';\n    }\n    return classes;\n  }\n  function closeMenuByClick() {\n    if (isMenu) {\n      closeMenu();\n    }\n  }\n  return (\n    <nav className={`navigation ${isMenu ? 'navigation_mobile' : ''}`}>\n      <Link\n        to=\"/\"\n        className={mainLinkClasses()}\n        onClick={closeMenuByClick}\n      >\n        Главная\n      </Link>\n      {isLoggedIn\n      && (\n      <Link\n        to=\"/saved-news\"\n        className={newsLinkClasses()}\n        onClick={closeMenuByClick}\n      >\n        Сохраненные статьи\n      </Link>\n      )}\n      <NavButton\n        isLoggedIn={isLoggedIn}\n        pathname={pathname}\n        openLoginPopup={openLoginPopup}\n        isMenu={isMenu}\n        onExit={onExit}\n      />\n    </nav>\n\n  );\n}\n\nNavigation.propTypes = {\n  isLoggedIn: PropTypes.bool.isRequired,\n  pathname: PropTypes.string.isRequired,\n  openLoginPopup: PropTypes.func.isRequired,\n  isMenu: PropTypes.bool.isRequired,\n  closeMenu: PropTypes.func.isRequired,\n  onExit: PropTypes.func.isRequired,\n};\n\nexport default Navigation;\n","export default __webpack_public_path__ + \"static/media/Logo-black.20bf9983.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Header.css';\nimport HeaderLogoWhite from '../../images/Logo-white.svg';\nimport Navigation from '../Navigation/Navigation';\nimport HeaderLogoBlack from '../../images/Logo-black.svg';\n\nfunction Header({\n  pathname,\n  isHiddenHeaderButton,\n  isLoggedIn, openLoginPopup, isMenu, handleMenu, isButtonActive, handleButtonMenu,\n  closeMenu, onExit,\n}) {\n  function headerClasses() {\n    let classes = 'header';\n    if (pathname === '/' && !isMenu) {\n      classes += ' header_bg_img header_position_fixed';\n    } else if (pathname !== '/' && !isMenu) {\n      classes += ' header_bg_white header_position_fixed';\n    } else if (pathname === '/' && isMenu) {\n      classes += ' header_bg_dark header_position_relative';\n    } else if (pathname !== '/' && isMenu) {\n      classes += ' header_bg_white header_position_relative';\n    }\n    return classes;\n  }\n  function onClick() {\n    handleButtonMenu();\n    handleMenu();\n  }\n  return (\n    <header className={headerClasses()}>\n      <div className=\"header__container\">\n        <img className=\"header__logo\" alt=\"\" src={`${pathname === '/' ? HeaderLogoWhite : HeaderLogoBlack}`} />\n        {!isHiddenHeaderButton\n        && (\n          <span\n            className={`header__burger-button ${pathname === '/' ? 'header__burger-button_white' : 'header__burger-button_black'} ${isButtonActive ? 'header__burger-button_active' : ''}`}\n            onClick={onClick}\n            role=\"button\"\n            aria-hidden=\"true\"\n          />\n        )}\n        {!isMenu\n        && (\n          <Navigation\n            isLoggedIn={isLoggedIn}\n            pathname={pathname}\n            openLoginPopup={openLoginPopup}\n            isMenu={isMenu}\n            closeMenu={closeMenu}\n            onExit={onExit}\n          />\n        )}\n      </div>\n    </header>\n\n  );\n}\n\nHeader.propTypes = {\n  pathname: PropTypes.string.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  openLoginPopup: PropTypes.func.isRequired,\n  isMenu: PropTypes.bool.isRequired,\n  handleMenu: PropTypes.func.isRequired,\n  isButtonActive: PropTypes.bool.isRequired,\n  handleButtonMenu: PropTypes.func.isRequired,\n  isHiddenHeaderButton: PropTypes.bool.isRequired,\n  closeMenu: PropTypes.func.isRequired,\n  onExit: PropTypes.func.isRequired,\n};\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/GitHub.f552bbf6.svg\";","export default __webpack_public_path__ + \"static/media/Facebook.f62b7f7f.svg\";","import React from 'react';\nimport './Footer.css';\nimport { Link } from 'react-router-dom';\nimport GitHub from '../../images/GitHub.svg';\nimport Facebook from '../../images/Facebook.svg';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <div className=\"footer__container\">\n        {/* Текстовые ссылки */}\n        <div className=\"footer__links\">\n          <ul className=\"footer__ul footer__ul_type_links\">\n            <li className=\"footer__li\">\n              <Link className=\"footer__link\" to=\"/\">Главная</Link>\n            </li>\n            <li className=\"footer__li\">\n              <a className=\"footer__link\" href=\"https://praktikum.yandex.ru/web/\" target=\"_blank\" rel=\"noreferrer\">Яндекс.Практикум</a>\n            </li>\n          </ul>\n          {/* Ссылки - иконки */}\n          <ul className=\"footer__ul footer__ul_type_socials\">\n            <li>\n              <a href=\"https://github.com/VKovrigina\" target=\"_blank\" rel=\"noreferrer\">\n                <img className=\"footer__socials-icon\" alt=\"GitHub\" src={GitHub} />\n              </a>\n            </li>\n            <li>\n              <a href=\"https://praktikum.yandex.ru/web/\" target=\"_blank\" rel=\"noreferrer\">\n                <img className=\"footer__socials-icon\" alt=\"Facebook\" src={Facebook} />\n              </a>\n            </li>\n          </ul>\n        </div>\n        <p className=\"footer__copyright\">&#169;Supersite, Powered by News API</p>\n      </div>\n    </footer>\n\n  );\n}\n\nexport default Footer;\n","import React, { useCallback } from 'react';\n\nfunction useFormWithValidation() {\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n\n  const handleChange = (event) => {\n    const { target } = event;\n    const { name } = target;\n    const { value } = target;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: target.validationMessage });\n    setIsValid(target.closest('form').checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid],\n  );\n\n  return {\n    values, handleChange, errors, isValid, resetForm,\n  };\n}\n\nexport default useFormWithValidation;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './SearchForm.css';\nimport useFormWithValidation from '../../hooks/useFormWithValidation';\n\nfunction SearchForm({ onSubmit, isLoading }) {\n  const {\n    values, handleChange, errors, isValid, resetForm,\n  } = useFormWithValidation();\n  React.useEffect(() => {\n    resetForm();\n  }, [resetForm]);\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onSubmit(values.article);\n  }\n  function isButtonDisabled() {\n    let isDisabled;\n    if (!isValid || isLoading) {\n      isDisabled = true;\n    } else {\n      isDisabled = false;\n    }\n    return isDisabled;\n  }\n  return (\n    <section className=\"search-form\">\n      <div className=\"search-form__container\">\n        <div>\n          <h1 className=\"search-form__title\">Что творится в мире?</h1>\n          <p className=\"search-form__description\">Находите самые свежие статьи на любую тему и сохраняйте в своём личном кабинете.</p>\n        </div>\n        { errors.article && <span className=\"search-form__span-error\">{errors.article}</span>}\n        <form className=\"search-form__form\" onSubmit={handleSubmit} noValidate>\n          <input\n            className=\"search-form__input\"\n            placeholder={JSON.parse(localStorage.getItem('keyword')) || 'Введите ключевое слово'}\n            required\n            name=\"article\"\n            type=\"text\"\n            minLength=\"1\"\n            maxLength=\"30\"\n            value={values.article || ''}\n            onChange={handleChange}\n          />\n          <button className={`search-form__submit-button ${isButtonDisabled() ? 'search-form__submit-button_inactive' : 'search-form__submit-button_active'}`} type=\"submit\" disabled={isButtonDisabled()}>Искать</button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n};\n\nexport default SearchForm;\n","export default __webpack_public_path__ + \"static/media/not-found.40bbae81.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport NotFoundIcon from '../../images/not-found.svg';\nimport './NotFound.css';\n\nfunction NotFound({ isMainPage }) {\n  return (\n    <div className=\"not-found\">\n      <img alt=\"Ничего не найдено\" src={NotFoundIcon} />\n      <p className=\"not-found__title\">Ничего не найдено</p>\n      <p className=\"not-found__description\">\n        {`${isMainPage ? 'К сожалению по вашему запросу ничего не найдено.' : 'У вас пока что нет сохраненных статей...'}`}\n      </p>\n    </div>\n  );\n}\n\nNotFound.propTypes = {\n  isMainPage: PropTypes.bool.isRequired,\n};\n\nexport default NotFound;\n","export default __webpack_public_path__ + \"static/media/Book-mark-inactive.d5ab2c6e.svg\";","export default __webpack_public_path__ + \"static/media/Book-mark-active.82bf874f.svg\";","export default __webpack_public_path__ + \"static/media/DeleteIcon.a1ace43f.svg\";","/* eslint-disable react/require-default-props */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport './NewsCardButton.css';\nimport SaveCardInactive from '../../images/Book-mark-inactive.svg';\nimport SaveCardActive from '../../images/Book-mark-active.svg';\nimport DeleteCard from '../../images/DeleteIcon.svg';\n\nfunction NewsCardButton({\n  isMainPage, isLoggedIn, isSave, saveArticle, deleteArticle,\n}) {\n  function buttonIcon() {\n    let icon;\n    if (isMainPage && isSave) {\n      icon = SaveCardActive;\n    } else if (isMainPage && !isSave) {\n      icon = SaveCardInactive;\n    } else {\n      icon = DeleteCard;\n    }\n    return icon;\n  }\n  function buttonClasses() {\n    let classes = 'news-card__button';\n    if (isMainPage && isSave) {\n      classes += ' news-card__button_active';\n    } else if (isMainPage && !isSave) {\n      classes += ' news-card__button_inactive';\n    } else {\n      classes += ' news-card__button_inactive';\n    }\n    return classes;\n  }\n  function HelpText() {\n    let text;\n    if (!isLoggedIn) {\n      text = 'Войдите, чтобы сохранять статьи';\n    } else if (isMainPage && !isSave && isLoggedIn) {\n      text = 'Cохранить статью';\n    } else if (isMainPage && isSave && isLoggedIn) {\n      text = 'Убрать из сохраненных';\n    } else if (!isMainPage) {\n      text = 'Убрать из сохраненных';\n    }\n    return text;\n  }\n  function handleClick() {\n    if (isLoggedIn && !isSave && isMainPage) {\n      saveArticle();\n    }\n    if (isLoggedIn && isSave) {\n      deleteArticle();\n    }\n  }\n  return (\n    <button\n      className={buttonClasses()}\n      type=\"button\"\n      data-tooltip={HelpText()}\n      aria-label={HelpText()}\n      onClick={handleClick}\n      disabled={!isLoggedIn}\n    >\n      <img\n        className=\"news-card__button-img\"\n        src={buttonIcon()}\n        alt={HelpText()}\n      />\n    </button>\n  );\n}\n\nNewsCardButton.propTypes = {\n  isMainPage: PropTypes.bool.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  isSave: PropTypes.bool.isRequired,\n  saveArticle: PropTypes.func,\n  deleteArticle: PropTypes.func.isRequired,\n};\n\nexport default NewsCardButton;\n","export default __webpack_public_path__ + \"static/media/image_04.f6ade60d.jpg\";","const NEWS_API_OPTIONS = {\n  getSevenDaysAgoDate: () => {\n    const currentDate = new Date();\n    currentDate.setDate(currentDate.getDate() - 7);\n    const sevenDaysAgo = currentDate.toISOString().split('T')[0];\n    return sevenDaysAgo;\n  },\n  getCurrentDate: () => {\n    const currentFullDate = new Date();\n    const currentDate = currentFullDate.toISOString().split('T')[0];\n    return currentDate;\n  },\n  key: 'e7f9ea0f4c6648ad9d59c29246d45eef',\n  baseUrl: 'https://nomoreparties.co/news',\n};\n\nconst MAIN_API_OPTIONS = {\n  baseUrl: 'https://api.new-s.students.nomoreparties.co',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n};\n\nconst MONTH_NAMES = ['января', 'февраля', 'марта', 'апреля', 'мая', 'июня',\n  'июля', 'августа', 'сентября', 'октября', 'ноября', 'декабря',\n];\n\nconst SERVER_ERROR_MESSAGE = 'Упс! Кажется, что-то поломалось :(';\nconst DEFAULT_IMG_URL = 'https://images.unsplash.com/photo-1607178289618-21847c3f7cc0?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1351&q=80';\nconst NEWS_SERVER_ERROR_MESSAGE = 'Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз';\nconst COUNT_NEW_ARTICLES = 3;\n\nexport {\n  NEWS_API_OPTIONS,\n  MONTH_NAMES,\n  MAIN_API_OPTIONS,\n  SERVER_ERROR_MESSAGE,\n  DEFAULT_IMG_URL,\n  NEWS_SERVER_ERROR_MESSAGE,\n  COUNT_NEW_ARTICLES,\n};\n","/* eslint-disable react/require-default-props */\nimport React from 'react';\nimport './NewsCard.css';\nimport PropTypes from 'prop-types';\nimport NewsCardButton from '../NewsCardButton/NewsCardButton';\nimport img from '../../images/image_04.jpg';\nimport { DEFAULT_IMG_URL } from '../../utils/constants';\n\nfunction NewsCard({\n  isMainPage,\n  isLoggedIn,\n  saveArticle,\n  deleteArticle,\n  keyword,\n  title,\n  text,\n  date,\n  source,\n  link,\n  image,\n  // eslint-disable-next-line react/prop-types\n  _id = undefined,\n}) {\n  const isSave = _id !== undefined;\n  function handleSaveArticle() {\n    if (image !== null) {\n      saveArticle(\n        title,\n        text,\n        date,\n        source,\n        link,\n        image,\n      );\n    } else {\n      saveArticle(\n        title,\n        text,\n        date,\n        source,\n        link,\n        DEFAULT_IMG_URL,\n      );\n    }\n  }\n  function handleDeleteArticle() {\n    deleteArticle(_id);\n  }\n  return (\n    <article className=\"news-card\">\n      <NewsCardButton\n        isMainPage={isMainPage}\n        isLoggedIn={isLoggedIn}\n        isSave={isSave}\n        saveArticle={handleSaveArticle}\n        deleteArticle={handleDeleteArticle}\n      />\n      {!isMainPage && <div className=\"news-card__keyword\">{keyword}</div>}\n      <a className=\"news-card__link\" target=\"_blank\" rel=\"noreferrer\" href={link}>\n        <img className=\"news-card__img\" src={image} alt=\"Картинка к статье\" onError={(e) => { e.target.src = img; }} />\n        <div className=\"news-card__description\">\n          <p className=\"news-card__date\">{date}</p>\n          <h3 className=\"news-card__title\">{title}</h3>\n          <p className=\"news-card__text\">{text}</p>\n          <p className=\"news-card__source\">{source}</p>\n        </div>\n      </a>\n    </article>\n  );\n}\n\nNewsCard.propTypes = {\n  keyword: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  date: PropTypes.string.isRequired,\n  source: PropTypes.string.isRequired,\n  link: PropTypes.string.isRequired,\n  // eslint-disable-next-line react/require-default-props\n  image: PropTypes.string,\n  isMainPage: PropTypes.bool.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  saveArticle: PropTypes.func,\n  deleteArticle: PropTypes.func.isRequired,\n};\n\nexport default NewsCard;\n","import React from 'react';\nimport './Preloader.css';\n\nfunction Preloader() {\n  return (\n    <div className=\"preloader\">\n      <i className=\"preloader__circle\" />\n      <p className=\"preloader__description\">Идет поиск новостей...</p>\n    </div>\n  );\n}\n\nexport default Preloader;\n","import React from 'react';\nimport './NewsServerError.css';\nimport { NEWS_SERVER_ERROR_MESSAGE } from '../../utils/constants';\n\nfunction NewsServerError() {\n  return (\n    <div className=\"error\">\n      <p className=\"error__description\">\n        {NEWS_SERVER_ERROR_MESSAGE}\n      </p>\n    </div>\n  );\n}\n\nexport default NewsServerError;\n","/* eslint-disable react/require-default-props */\nimport React from 'react';\nimport './NewsCardList.css';\nimport PropTypes from 'prop-types';\nimport NotFound from '../NotFound/NotFound';\nimport NewsCard from '../NewsCard/NewsCard';\nimport Preloader from '../Preloader/Preloader';\nimport NewsServerError from '../NewsServerError/NewsServerError';\n\nfunction NewsCardList({\n  isMainPage,\n  articles,\n  isLoggedIn,\n  isPreloaderVisible,\n  handleShowMoreButton,\n  additionalArticles,\n  saveArticle,\n  deleteArticle,\n  isNewsApiError,\n}) {\n  return (\n    <section className=\"news-card-list\">\n      <div className=\"news-card-list__container\">\n        {isMainPage && articles.length > 0 && !isPreloaderVisible\n          && (\n          <h2 className=\"news-card-list__title\">\n            Результаты поиска\n          </h2>\n          )}\n        {articles.length > 0 && (\n        <div className=\"news-card-list__card-container\">\n          {articles.map((article) => (\n            <NewsCard\n              isLoggedIn={isLoggedIn}\n              isMainPage={isMainPage}\n              saveArticle={saveArticle}\n              deleteArticle={deleteArticle}\n              key={[article.link, article.title, article.text]}\n              {...article}\n            />\n          ))}\n        </div>\n        )}\n        {isMainPage && !isPreloaderVisible && additionalArticles.length !== 0\n          && (\n          <button className=\"news-card-list__button\" type=\"button\" onClick={handleShowMoreButton}>\n            Показать еще\n          </button>\n          )}\n        {isPreloaderVisible && <Preloader /> }\n        {articles.length === 0 && !isPreloaderVisible\n        && !isNewsApiError && <NotFound isMainPage={isMainPage} />}\n        {isNewsApiError && <NewsServerError />}\n      </div>\n    </section>\n  );\n}\n\nNewsCardList.propTypes = {\n  isMainPage: PropTypes.bool.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  articles: PropTypes.array.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  additionalArticles: PropTypes.array,\n  isLoggedIn: PropTypes.bool.isRequired,\n  isPreloaderVisible: PropTypes.bool,\n  handleShowMoreButton: PropTypes.func,\n  saveArticle: PropTypes.func,\n  deleteArticle: PropTypes.func.isRequired,\n  isNewsApiError: PropTypes.bool,\n};\n\nexport default NewsCardList;\n","export default __webpack_public_path__ + \"static/media/author-photo.36397e9f.jpg\";","import React from 'react';\nimport './About.css';\nimport AuthorPhoto from '../../images/author-photo.jpg';\n\nfunction About() {\n  return (\n    <section className=\"about\">\n      <div className=\"about__container\">\n        <img className=\"about__author-photo\" alt=\"Фото автора\" src={AuthorPhoto} />\n        <div className=\"about__content\">\n          <h2 className=\"about__title\">Об авторе</h2>\n          <p className=\"about__paragraph\">Привет! Меня зовут Варя, и я начинающий frontend-developer. Знаю как работать с JavaScript, CSS, ReactJS, NodeJS, MongoDB :)</p>\n          <p className=\"about__paragraph\">Во время обучения в Яндекс.Практикум на себе прочувствовала фразу: &quot;The more I learn, the more I realise how much i don`t know &quot;. Не собираюсь останавливаться в изучении новых технологий :)</p>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default About;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Main.css';\nimport SearchForm from '../SearchForm/SearchForm';\nimport NewsCardList from '../NewsCardList/NewsCardList';\nimport About from '../About/About';\n\nfunction Main({\n  articles,\n  additionalArticles,\n  isLoggedIn,\n  handleSearchFormSubmit,\n  isNewsCardListVisible,\n  isPreloaderVisible,\n  handleShowMoreButton,\n  saveArticle,\n  deleteArticle,\n  isNewsApiError,\n  isFormLoading,\n}) {\n  return (\n    <>\n      <SearchForm onSubmit={handleSearchFormSubmit} isLoading={isFormLoading} />\n      {\n      isNewsCardListVisible\n      && (\n      <NewsCardList\n        isMainPage\n        articles={articles}\n        additionalArticles={additionalArticles}\n        isLoggedIn={isLoggedIn}\n        isPreloaderVisible={isPreloaderVisible}\n        handleShowMoreButton={handleShowMoreButton}\n        saveArticle={saveArticle}\n        deleteArticle={deleteArticle}\n        isNewsApiError={isNewsApiError}\n      />\n      )\n}\n      <About />\n    </>\n  );\n}\n\nMain.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  articles: PropTypes.array.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  additionalArticles: PropTypes.array.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  handleSearchFormSubmit: PropTypes.func.isRequired,\n  isNewsCardListVisible: PropTypes.bool.isRequired,\n  isPreloaderVisible: PropTypes.bool.isRequired,\n  handleShowMoreButton: PropTypes.func.isRequired,\n  saveArticle: PropTypes.func.isRequired,\n  deleteArticle: PropTypes.func.isRequired,\n  isNewsApiError: PropTypes.bool.isRequired,\n  isFormLoading: PropTypes.bool.isRequired,\n};\n\nexport default Main;\n","import React from 'react';\nimport './SavedNewsHeader.css';\nimport PropTypes from 'prop-types';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\n\nfunction SavedNewsHeader({ articles }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [sortedKeywordsArray, setSortedKeywordsArray] = React.useState([]);\n  const savedArticlesLength = articles.length;\n  const lastDigitArticlesLength = Number(sortedKeywordsArray.length.toString().split('').pop());\n  const keywordsArray = articles.map((item) => item.keyword);\n  function endingDescription() {\n    let ending;\n    if (savedArticlesLength === 0 || savedArticlesLength === 11\n      || (savedArticlesLength >= 5 && lastDigitArticlesLength !== 1)) {\n      ending = 'сохраненных статей';\n    }\n    if (savedArticlesLength === 1\n      || (savedArticlesLength !== 11 && lastDigitArticlesLength === 1)) {\n      ending = 'сохраненная статья';\n    }\n    if (savedArticlesLength > 1 && savedArticlesLength < 5) {\n      ending = 'сохраненные статьи';\n    }\n    return ending;\n  }\n  function endingKeywords() {\n    let ending;\n    if (sortedKeywordsArray.length === 1\n      || (sortedKeywordsArray.length > 1\n        && sortedKeywordsArray.length !== 11\n        && lastDigitArticlesLength === 1)\n    ) {\n      ending = 'По ключевому слову';\n    }\n    if (sortedKeywordsArray.length > 1) {\n      ending = 'По ключевым словам';\n    }\n    return ending;\n  }\n  function endingKeywordsLength() {\n    let ending;\n    if (savedArticlesLength - 2 < 5) {\n      ending = '-м';\n    }\n    if (savedArticlesLength - 2 >= 5) {\n      ending = '-и';\n    }\n    return ending;\n  }\n  function sortKeywordsArray() {\n    const keywordRepeat = keywordsArray.reduce((acc, cur) => {\n      if (acc[cur]) {\n        acc[cur] += 1;\n      } else {\n        acc[cur] = 1;\n      }\n      return acc;\n    }, {});\n    const sortArray = Object.entries(keywordRepeat).sort((a, b) => b[1] - a[1]);\n    const finishArray = sortArray.map((item) => item[0]);\n    setSortedKeywordsArray(finishArray);\n  }\n  React.useEffect(() => {\n    sortKeywordsArray();\n  }, [articles]);\n  return (\n    <section className=\"saved-news-header\">\n      <div className=\"saved-news-header__container\">\n        <p className=\"saved-news-header__heading\">Сохранённые статьи</p>\n        <h1 className=\"saved-news-header__title\">\n          {`${currentUser.name}, у вас ${savedArticlesLength} ${endingDescription()}`}\n        </h1>\n        {savedArticlesLength > 0 && (\n          <p className=\"saved-news-header__keywords\">\n            {`${endingKeywords()}:`}\n            &nbsp;\n            {sortedKeywordsArray.length === 1 && <span className=\"saved-news-header__keyword\">{sortedKeywordsArray[0]}</span>}\n            {sortedKeywordsArray.length === 2 && (\n            <span className=\"saved-news-header__keyword\">\n              {`${sortedKeywordsArray[0]}, ${sortedKeywordsArray[1]}`}\n            </span>\n            )}\n            {sortedKeywordsArray.length === 3 && (\n            <span className=\"saved-news-header__keyword\">\n              {`${sortedKeywordsArray[0]}, ${sortedKeywordsArray[1]} и ${sortedKeywordsArray[2]}`}\n            </span>\n            )}\n            {sortedKeywordsArray.length > 3 && (\n              <>\n                <span className=\"saved-news-header__keyword\">\n                  {`${sortedKeywordsArray[0]}, ${sortedKeywordsArray[1]}`}\n                </span>\n                &nbsp;и&nbsp;\n                <span className=\"saved-news-header__keyword\">\n                  {`${sortedKeywordsArray.length - 2}${endingKeywordsLength()} другим`}\n                </span>\n              </>\n            )}\n          </p>\n        )}\n      </div>\n    </section>\n  );\n}\n\nSavedNewsHeader.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  articles: PropTypes.array.isRequired,\n};\n\nexport default SavedNewsHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './SavedNews.css';\nimport NewsCardList from '../NewsCardList/NewsCardList';\nimport SavedNewsHeader from '../SavedNewsHeader/SavedNewsHeader';\n\nfunction SavedNews({ articles, isLoggedIn, deleteArticle }) {\n  return (\n    <>\n      <SavedNewsHeader articles={articles} />\n      <NewsCardList\n        isMainPage={false}\n        articles={articles}\n        isLoggedIn={isLoggedIn}\n        deleteArticle={deleteArticle}\n      />\n    </>\n  );\n}\n\nSavedNews.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  articles: PropTypes.array.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  deleteArticle: PropTypes.func.isRequired,\n};\n\nexport default SavedNews;\n","/* eslint-disable react/require-default-props */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport './PopupContainer.css';\n\nfunction PopupContainer({\n  title,\n  children,\n  onClose,\n  isOpen,\n  closeByEscAndOverlay,\n  buttonText,\n  linkText,\n  handleLinkClick,\n  isMessagePopup,\n  isErrorPopup,\n  isButtonValid,\n  errorMessage,\n  onSubmit,\n  isLoading,\n}) {\n  React.useEffect(() => {\n    closeByEscAndOverlay();\n  });\n  function handleClick() {\n    handleLinkClick();\n  }\n  function isButtonDisabled() {\n    let isDisabled;\n    if (!isButtonValid || isLoading) {\n      isDisabled = true;\n    } else {\n      isDisabled = false;\n    }\n    return isDisabled;\n  }\n\n  return (\n    <div className={`popup ${isOpen ? 'popup_open' : ''}`}>\n      <div className=\"popup__container\">\n        <span\n          className=\"popup__close-button\"\n          aria-label=\"Закрыть\"\n          onClick={onClose}\n          role=\"button\"\n          aria-hidden=\"true\"\n        />\n        <form className=\"popup__form\" method=\"get\" action=\"#\" onSubmit={onSubmit} noValidate>\n          <h2 className={`popup__form-title ${isErrorPopup ? 'popup__form-title_error' : ''}`}>{title}</h2>\n          {!isMessagePopup\n            ? (\n              <>\n                {children}\n                <span className=\"popup__span-error popup__span-error_position_center\">{errorMessage}</span>\n                <button className={`popup__form-button ${isButtonDisabled() ? 'popup__form-button_disable' : 'popup__form-button_active'}`} type=\"submit\" disabled={isButtonDisabled()}>{buttonText}</button>\n                <p className=\"popup__form-paragraph\">\n                  или&nbsp;\n                  <button className=\"popup__form-link popup__form-link_type_s\" type=\"button\" onClick={handleClick}>{linkText}</button>\n                </p>\n              </>\n            )\n            : <button className=\"popup__form-link popup__form-link_type_m\" type=\"button\" onClick={handleClick}>{linkText}</button>}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nPopupContainer.propTypes = {\n  title: PropTypes.string.isRequired,\n  children: PropTypes.node,\n  onClose: PropTypes.func.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  closeByEscAndOverlay: PropTypes.func.isRequired,\n  isMessagePopup: PropTypes.bool.isRequired,\n  buttonText: PropTypes.string.isRequired,\n  linkText: PropTypes.string.isRequired,\n  handleLinkClick: PropTypes.func.isRequired,\n  isButtonValid: PropTypes.bool,\n  errorMessage: PropTypes.string,\n  onSubmit: PropTypes.func,\n  isErrorPopup: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool,\n};\n\nexport default PopupContainer;\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport PopupContainer from '../PopupContainer/PopupContainer';\nimport useFormWithValidation from '../../hooks/useFormWithValidation';\n\nfunction LoginPopup({\n  onClose, isOpen, closeByEscAndOverlay, openRegisterPopup, loginErrorMessage, onSubmit, isLoading,\n}) {\n  const {\n    values, handleChange, errors, isValid, resetForm,\n  } = useFormWithValidation();\n  React.useEffect(() => {\n    resetForm();\n  }, [onClose, resetForm, isOpen]);\n  function openOtherPopup() {\n    onClose();\n    openRegisterPopup();\n  }\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onSubmit(values.loginEmail, values.loginPassword);\n  }\n  return (\n    <PopupContainer\n      title=\"Вход\"\n      onClose={onClose}\n      isOpen={isOpen}\n      closeByEscAndOverlay={closeByEscAndOverlay}\n      isMessagePopup={false}\n      isErrorPopup={false}\n      buttonText=\"Войти\"\n      linkText=\"Зарегистрироваться\"\n      handleLinkClick={openOtherPopup}\n      errorMessage={loginErrorMessage}\n      isButtonValid={isValid}\n      onSubmit={handleSubmit}\n      isLoading={isLoading}\n    >\n      <label htmlFor=\"login-email\" className=\"popup__form-label\">\n        Email\n      </label>\n      <input\n        type=\"email\"\n        id=\"login-email\"\n        className=\"popup__form-input\"\n        placeholder=\"Введите почту\"\n        value={values.loginEmail || ''}\n        name=\"loginEmail\"\n        onChange={handleChange}\n        required\n      />\n      <span className=\"popup__span-error\">{errors.loginEmail}</span>\n      <label htmlFor=\"login-password\" className=\"popup__form-label\">\n        Пароль\n      </label>\n      <input\n        type=\"password\"\n        id=\"login-password\"\n        className=\"popup__form-input\"\n        placeholder=\"Введите пароль\"\n        value={values.loginPassword || ''}\n        name=\"loginPassword\"\n        onChange={handleChange}\n        minLength=\"5\"\n        maxLength=\"30\"\n        required\n      />\n      <span className=\"popup__span-error\">{errors.loginPassword}</span>\n    </PopupContainer>\n  );\n}\n\nLoginPopup.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  closeByEscAndOverlay: PropTypes.func.isRequired,\n  openRegisterPopup: PropTypes.func.isRequired,\n  loginErrorMessage: PropTypes.string.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n};\n\nexport default LoginPopup;\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport PopupContainer from '../PopupContainer/PopupContainer';\nimport useFormWithValidation from '../../hooks/useFormWithValidation';\n\nfunction RegisterPopup({\n  onClose, isOpen, closeByEscAndOverlay, openLoginPopup, registerErrorMessage, onSubmit, isLoading,\n}) {\n  const {\n    values, handleChange, errors, isValid, resetForm,\n  } = useFormWithValidation();\n  React.useEffect(() => {\n    resetForm();\n  }, [onClose, isOpen]);\n  function openOtherPopup() {\n    onClose();\n    openLoginPopup();\n  }\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onSubmit(values.registerName, values.registerEmail, values.registerPassword);\n  }\n  return (\n    <PopupContainer\n      title=\"Регистрация\"\n      onClose={onClose}\n      isOpen={isOpen}\n      closeByEscAndOverlay={closeByEscAndOverlay}\n      isMessagePopup={false}\n      isErrorPopup={false}\n      buttonText=\"Зарегистрироваться\"\n      linkText=\"Войти\"\n      handleLinkClick={openOtherPopup}\n      isButtonValid={isValid}\n      errorMessage={registerErrorMessage}\n      onSubmit={handleSubmit}\n      isLoading={isLoading}\n    >\n      <label htmlFor=\"register-email\" className=\"popup__form-label\">\n        Email\n      </label>\n      <input\n        type=\"email\"\n        id=\"register-email\"\n        className=\"popup__form-input\"\n        placeholder=\"Введите почту\"\n        value={values.registerEmail || ''}\n        name=\"registerEmail\"\n        onChange={handleChange}\n        required\n      />\n      <span className=\"popup__span-error\">{errors.registerEmail}</span>\n      <label htmlFor=\"register-password\" className=\"popup__form-label\">\n        Пароль\n      </label>\n      <input\n        type=\"password\"\n        id=\"register-password\"\n        className=\"popup__form-input\"\n        placeholder=\"Введите пароль\"\n        value={values.registerPassword || ''}\n        name=\"registerPassword\"\n        onChange={handleChange}\n        minLength=\"5\"\n        maxLength=\"30\"\n        required\n      />\n      <span className=\"popup__span-error\">{errors.registerPassword}</span>\n      <label htmlFor=\"register-name\" className=\"popup__form-label\">\n        Имя\n      </label>\n      <input\n        type=\"text\"\n        id=\"register-name\"\n        className=\"popup__form-input\"\n        placeholder=\"Введите свое имя\"\n        value={values.registerName || ''}\n        name=\"registerName\"\n        onChange={handleChange}\n        minLength=\"2\"\n        maxLength=\"30\"\n        required\n      />\n      <span className=\"popup__span-error\">{errors.registerName}</span>\n    </PopupContainer>\n  );\n}\n\nRegisterPopup.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  closeByEscAndOverlay: PropTypes.func.isRequired,\n  openLoginPopup: PropTypes.func.isRequired,\n  registerErrorMessage: PropTypes.string.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n};\n\nexport default RegisterPopup;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PopupContainer from '../PopupContainer/PopupContainer';\n\nfunction UserRegisteredMessagePopup({\n  onClose, isOpen, closeByEscAndOverlay, openLoginPopup,\n}) {\n  function openOtherPopup() {\n    onClose();\n    openLoginPopup();\n  }\n  return (\n    <PopupContainer\n      title=\"Пользователь успешно зарегистрирован!\"\n      onClose={onClose}\n      isOpen={isOpen}\n      closeByEscAndOverlay={closeByEscAndOverlay}\n      isMessagePopup\n      isErrorPopup={false}\n      buttonText=\"\"\n      linkText=\"Войти\"\n      handleLinkClick={openOtherPopup}\n    />\n  );\n}\n\nUserRegisteredMessagePopup.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  closeByEscAndOverlay: PropTypes.func.isRequired,\n  openLoginPopup: PropTypes.func.isRequired,\n};\n\nexport default UserRegisteredMessagePopup;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PopupContainer from '../PopupContainer/PopupContainer';\n\nfunction ErrorPopup({\n  onClose, isOpen, closeByEscAndOverlay, errorText,\n}) {\n  return (\n    <PopupContainer\n      title={errorText}\n      onClose={onClose}\n      isOpen={isOpen}\n      closeByEscAndOverlay={closeByEscAndOverlay}\n      isMessagePopup\n      isErrorPopup\n      buttonText=\"\"\n      linkText=\"Закрыть\"\n      handleLinkClick={onClose}\n    />\n  );\n}\n\nErrorPopup.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  closeByEscAndOverlay: PropTypes.func.isRequired,\n  errorText: PropTypes.string.isRequired,\n};\n\nexport default ErrorPopup;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './MobileMenu.css';\nimport Header from '../Header/Header';\nimport Navigation from '../Navigation/Navigation';\n\nfunction MobileMenu({\n  isOpen,\n  pathname,\n  isLoggedIn,\n  openLoginPopup,\n  handleMenu,\n  isButtonActive,\n  handleButtonMenu,\n  closeByEscAndOverlay,\n  isHiddenHeaderButton,\n  closeMenu,\n  onExit,\n}) {\n  React.useEffect(() => {\n    closeByEscAndOverlay();\n  });\n  return (\n    <div className={`menu ${isOpen ? 'menu_open' : ''}`}>\n      <Header\n        pathname={pathname}\n        isLoggedIn={isLoggedIn}\n        isMenu\n        handleMenu={handleMenu}\n        openLoginPopup={openLoginPopup}\n        isButtonActive={isButtonActive}\n        handleButtonMenu={handleButtonMenu}\n        isHiddenHeaderButton={isHiddenHeaderButton}\n        closeMenu={closeMenu}\n        onExit={onExit}\n      />\n      <div className={`menu__container ${pathname !== '/' ? 'menu__container_white' : ''}`}>\n        <Navigation\n          isLoggedIn={isLoggedIn}\n          pathname={pathname}\n          openLoginPopup={openLoginPopup}\n          isMenu\n          closeMenu={closeMenu}\n          onExit={onExit}\n        />\n      </div>\n    </div>\n  );\n}\n\nMobileMenu.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  pathname: PropTypes.string.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  openLoginPopup: PropTypes.func.isRequired,\n  handleMenu: PropTypes.func.isRequired,\n  isButtonActive: PropTypes.bool.isRequired,\n  handleButtonMenu: PropTypes.func.isRequired,\n  closeByEscAndOverlay: PropTypes.func.isRequired,\n  isHiddenHeaderButton: PropTypes.bool.isRequired,\n  closeMenu: PropTypes.func.isRequired,\n  onExit: PropTypes.func.isRequired,\n};\n\nexport default MobileMenu;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({\n  component: Component, isUserLoggedIn, openLoginPopup, updateSavedArticles, ...props\n}) => {\n  React.useEffect(() => {\n    if (!isUserLoggedIn) {\n      openLoginPopup();\n    }\n    if (isUserLoggedIn) {\n      updateSavedArticles();\n    }\n  }, []);\n  return (\n    <Route>\n      {\n        isUserLoggedIn ? <Component isLoggedIn={isUserLoggedIn} {...props} /> : <Redirect to=\"./\" />\n      }\n    </Route>\n  );\n};\n\nProtectedRoute.propTypes = {\n  component: PropTypes.elementType.isRequired,\n  isUserLoggedIn: PropTypes.bool.isRequired,\n  openLoginPopup: PropTypes.func.isRequired,\n  updateSavedArticles: PropTypes.func.isRequired,\n};\n\nexport default ProtectedRoute;\n","import { NEWS_API_OPTIONS } from './constants';\n\nclass NewsApi {\n  constructor(options) {\n    this._getSevenDaysAgoDate = options.getSevenDaysAgoDate;\n    this._getCurrentDate = options.getCurrentDate;\n    this._key = options.key;\n    this._baseUrl = options.baseUrl;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(res.json());\n  }\n\n  getArticles(value) {\n    return fetch(`${this._baseUrl}/v2/everything?q=${value}&from=${this._getSevenDaysAgoDate()}&to=${this._getCurrentDate()}&sortBy=popularity&pageSize=100&apiKey=${this._key}`)\n      .then(this._handleResponse);\n  }\n}\n\nconst newsApi = new NewsApi(NEWS_API_OPTIONS);\nexport default newsApi;\n","import { MAIN_API_OPTIONS } from './constants';\n\nclass MainApi {\n  constructor(options) {\n    this._headers = options.headers;\n    this._baseUrl = options.baseUrl;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(res.json());\n  }\n\n  register(userName, userEmail, userPassword) {\n    return fetch(`${this._baseUrl}/signup`,\n      {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: userName,\n          email: userEmail,\n          password: userPassword,\n        }),\n      })\n      .then(this._handleResponse);\n  }\n\n  login(userEmail, userPassword) {\n    return fetch(`${this._baseUrl}/signin`,\n      {\n        method: 'POST',\n        credentials: 'include',\n        headers: this._headers,\n        body: JSON.stringify({\n          email: userEmail,\n          password: userPassword,\n        }),\n      })\n      .then(this._handleResponse);\n  }\n\n  logout() {\n    return fetch(`${this._baseUrl}/logout`,\n      {\n        method: 'GET',\n        credentials: 'include',\n        headers: this._headers,\n      })\n      .then(this._handleResponse);\n  }\n\n  getContent() {\n    return fetch(`${this._baseUrl}/users/me`,\n      {\n        method: 'GET',\n        credentials: 'include',\n        headers: this._headers,\n      })\n      .then(this._handleResponse);\n  }\n\n  createArticle(\n    articleTitle,\n    articleText,\n    articleDate,\n    articleSource,\n    articleLink,\n    articleImage,\n  ) {\n    return fetch(`${this._baseUrl}/articles`,\n      {\n        method: 'POST',\n        credentials: 'include',\n        headers: this._headers,\n        body: JSON.stringify({\n          keyword: JSON.parse(localStorage.getItem('keyword')),\n          // eslint-disable-next-line no-undef\n          title: articleTitle,\n          text: articleText,\n          date: articleDate,\n          source: articleSource,\n          link: articleLink,\n          image: articleImage,\n        }),\n      })\n      .then(this._handleResponse);\n  }\n\n  getSavedArticles() {\n    return fetch(`${this._baseUrl}/articles`,\n      {\n        method: 'GET',\n        credentials: 'include',\n        headers: this._headers,\n      })\n      .then(this._handleResponse);\n  }\n\n  deleteArticleById(id) {\n    return fetch(`${this._baseUrl}/articles/${id}`,\n      {\n        method: 'DELETE',\n        credentials: 'include',\n        headers: this._headers,\n      })\n      .then(this._handleResponse);\n  }\n}\n\nconst mainApi = new MainApi(MAIN_API_OPTIONS);\nexport default mainApi;\n","import React from 'react';\nimport {\n  Route, Switch, useLocation, Redirect,\n} from 'react-router-dom';\nimport './App.css';\nimport Header from '../Header/Header';\nimport Footer from '../Footer/Footer';\nimport Main from '../Main/Main';\nimport SavedNews from '../SavedNews/SavedNews';\nimport LoginPopup from '../LoginPopup/LoginPopup';\nimport RegisterPopup from '../RegisterPopup/RegisterPopup';\nimport UserRegisteredMessagePopup from '../UserRegisteredMessagePopup/UserRegisteredMessagePopup';\nimport ErrorPopup from '../ErrorPopup/ErrorPopup';\nimport MobileMenu from '../MobileMenu/MobileMenu';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport newsApi from '../../utils/NewsApi';\nimport mainApi from '../../utils/MainApi';\nimport { MONTH_NAMES, SERVER_ERROR_MESSAGE, COUNT_NEW_ARTICLES } from '../../utils/constants';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\n\nfunction App() {\n  const location = useLocation();\n  const [isUserLoggedIn, setUserLoggedIn] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  /** попапы  */\n  const [isLoginPopupOpen, setIsLoginPopupOpen] = React.useState(false);\n  const [isRegisterPopupOpen, setIsRegisterPopupOpen] = React.useState(false);\n  const [isUserRegisteredPopupOpen, setIsUserRegisteredPopupOpen] = React.useState(false);\n  const [isErrorPopupOpen, setErrorPopupOpen] = React.useState(false);\n  const [popupErrorText, setPopupErrorText] = React.useState('');\n  const [registerErrorMessage, setRegisterErrorMessage] = React.useState('');\n  const [loginErrorMessage, setLoginErrorMessage] = React.useState('');\n  /** мобильное меню  */\n  const [isMenuMobileOpen, setIsMenuMobileOpen] = React.useState(false);\n  const [isButtonMenuActive, setIsButtonMenuActive] = React.useState(false);\n  /** статьи  */\n  const [currentArticles, setCurrentArticles] = React.useState(JSON.parse(localStorage.getItem('currentArticles')) || []);\n  const [additionalArticles, setAdditionalArticles] = React.useState(JSON.parse(localStorage.getItem('additionalArticles')) || []);\n  const [savedArticles, setSavedArticles] = React.useState([]);\n  /** другое */\n  const [isNewsCardListVisible, setIsNewsCardListVisible] = React.useState(JSON.parse(localStorage.getItem('isNewsCardListVisible')) || false);\n  const [isPreloaderVisible, setIsPreloaderVisible] = React.useState(false);\n  const [isNewsServerError, setNewsServerError] = React.useState(false);\n  const [isFormLoading, setFormLoading] = React.useState(false);\n  /** мобильное меню  */\n  function handleCloseMenu() {\n    setIsMenuMobileOpen(false);\n    setIsButtonMenuActive(false);\n  }\n  function handleMenuMobile() {\n    setIsMenuMobileOpen(!isMenuMobileOpen);\n  }\n  function handleMenuButtonMobile() {\n    setIsButtonMenuActive(!isButtonMenuActive);\n  }\n  function isHiddenHeaderButton() {\n    let isHidden;\n    if (isRegisterPopupOpen || isLoginPopupOpen || isUserRegisteredPopupOpen) {\n      isHidden = true;\n    } else {\n      isHidden = false;\n    }\n    return isHidden;\n  }\n  /** попапы  */\n  function handleLoginPopupOpen() {\n    setIsLoginPopupOpen(true);\n    setLoginErrorMessage('');\n  }\n  function handleRegisterPopupOpen() {\n    setIsRegisterPopupOpen(true);\n    setRegisterErrorMessage('');\n  }\n  function closeAllPopups() {\n    setIsLoginPopupOpen(false);\n    setIsUserRegisteredPopupOpen(false);\n    setIsRegisterPopupOpen(false);\n    setErrorPopupOpen(false);\n  }\n  function closePopupByEscAndOverlay() {\n    function handleEscClose(e) {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    function closeByOverlay(e) {\n      if (e.target.classList.contains('popup_open')) {\n        closeAllPopups();\n      }\n      if (e.target.classList.contains('menu_open')) {\n        handleCloseMenu();\n      }\n    }\n\n    document.addEventListener('click', closeByOverlay);\n    document.addEventListener('keydown', handleEscClose);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscClose);\n      document.removeEventListener('click', closeByOverlay);\n    };\n  }\n  /** работа со статьями */\n  function changeDateFormat(date) {\n    const newDate = date.split('T')[0].split('-').reverse();\n    const newMonth = `${MONTH_NAMES[Number(newDate[1]) - 1]},`;\n    newDate.splice(1, 1, newMonth);\n    return newDate.join(' ');\n  }\n  /** сабмит для формы поиска новостей  */\n  function handleSearchFormSubmit(value) {\n    setIsNewsCardListVisible(true);\n    localStorage.setItem('keyword', JSON.stringify(value));\n    localStorage.setItem('isNewsCardListVisible', JSON.stringify(true));\n    setCurrentArticles([]);\n    setAdditionalArticles([]);\n    setIsPreloaderVisible(true);\n    setFormLoading(true);\n    newsApi.getArticles(value)\n      .then((res) => {\n        const articles = res.articles.map((item) => ({\n          keyword: value,\n          title: item.title,\n          text: item.description,\n          date: changeDateFormat(item.publishedAt),\n          source: item.source.name,\n          link: item.url,\n          image: item.urlToImage,\n        }));\n        const firstArticles = articles.splice(0, COUNT_NEW_ARTICLES);\n        setCurrentArticles(firstArticles);\n        setAdditionalArticles(articles);\n        if (firstArticles.length > 0) {\n          localStorage.setItem('currentArticles', JSON.stringify(firstArticles));\n        } else {\n          localStorage.removeItem('currentArticles');\n        }\n        if (articles.length > 0) {\n          localStorage.setItem('additionalArticles', JSON.stringify(articles));\n        } else {\n          localStorage.removeItem('additionalArticles');\n        }\n      })\n      .catch(() => {\n        setNewsServerError(true);\n        localStorage.removeItem('additionalArticles');\n        localStorage.removeItem('currentArticles');\n        localStorage.removeItem('keyword');\n        localStorage.removeItem('isNewsCardListVisible');\n      })\n      .finally(() => {\n        setIsPreloaderVisible(false);\n        setFormLoading(false);\n      });\n  }\n  function handleShowMoreButton() {\n    if (additionalArticles.length > 0) {\n      const moreArticles = additionalArticles.splice(0, COUNT_NEW_ARTICLES);\n      setCurrentArticles([...currentArticles, ...moreArticles]);\n      localStorage.setItem('currentArticles', JSON.stringify([...currentArticles, ...moreArticles]));\n      localStorage.setItem('additionalArticles', JSON.stringify(additionalArticles));\n    } else {\n      localStorage.removeItem('additionalArticles');\n    }\n  }\n  /* работа с пользователем * */\n  function handleRegistration(userName, userEmail, userPassword) {\n    setFormLoading(true);\n    mainApi.register(userName, userEmail, userPassword)\n      .then(() => {\n        setRegisterErrorMessage('');\n        setIsRegisterPopupOpen(false);\n        setIsUserRegisteredPopupOpen(true);\n      })\n      .catch((err) => {\n        try {\n          err.then((res) => {\n            if (res.statusCode === 400) {\n              setRegisterErrorMessage(res.validation.body.message);\n            } else {\n              setRegisterErrorMessage(res.message);\n            }\n          });\n        } catch {\n          setRegisterErrorMessage(SERVER_ERROR_MESSAGE);\n        }\n      })\n      .finally(() => {\n        setFormLoading(false);\n      });\n  }\n  function handleLogin(userEmail, userPassword) {\n    setFormLoading(true);\n    mainApi.login(userEmail, userPassword)\n      .then(() => {\n        setUserLoggedIn(true);\n        setLoginErrorMessage('');\n        setIsLoginPopupOpen(false);\n      })\n      .catch((err) => {\n        try {\n          err.then((res) => {\n            if (res.statusCode === 400) {\n              setLoginErrorMessage(res.validation.body.message);\n            } else {\n              setLoginErrorMessage(res.message);\n            }\n          });\n        } catch {\n          setLoginErrorMessage(SERVER_ERROR_MESSAGE);\n        }\n      })\n      .finally(() => {\n        setFormLoading(false);\n      });\n  }\n  function handleExit() {\n    mainApi.logout()\n      .then(() => {\n        setUserLoggedIn(false);\n        localStorage.removeItem('additionalArticles');\n        localStorage.removeItem('currentArticles');\n        localStorage.removeItem('keyword');\n        localStorage.removeItem('isNewsCardListVisible');\n      })\n      .catch((err) => {\n        try {\n          err.then((res) => {\n            setPopupErrorText(res.message || SERVER_ERROR_MESSAGE);\n            setErrorPopupOpen(true);\n          });\n        } catch {\n          setPopupErrorText(SERVER_ERROR_MESSAGE);\n          setErrorPopupOpen(true);\n        }\n      });\n  }\n  React.useEffect(() => {\n    Promise.all([mainApi.getContent(), mainApi.getSavedArticles()])\n      .then(([userInfo, articlesInfo]) => {\n        if (userInfo) {\n          setUserLoggedIn(true);\n          setCurrentUser({\n            _id: userInfo._id,\n            name: userInfo.name,\n            email: userInfo.email,\n          });\n          setSavedArticles(articlesInfo.data);\n        }\n      })\n      .catch(() => {\n        setUserLoggedIn(false);\n      });\n  }, [isUserLoggedIn]);\n  /** работа со статьями */\n  function handleSaveArticle(\n    title,\n    text,\n    date,\n    source,\n    link,\n    image,\n  ) {\n    mainApi.createArticle(\n      title,\n      text,\n      date,\n      source,\n      link,\n      image,\n    )\n      .then((res) => {\n        const newArticle = res.data;\n        // eslint-disable-next-line max-len\n        const newArticles = currentArticles.map((item) => (item.link === link ? newArticle : item));\n        setCurrentArticles(newArticles);\n        localStorage.setItem('currentArticles', JSON.stringify(newArticles));\n      })\n      .catch((err) => {\n        try {\n          err.then((res) => {\n            if (res.statusCode === 400) {\n              setPopupErrorText(res.validation.body.message || SERVER_ERROR_MESSAGE);\n            } else {\n              setPopupErrorText(res.message || SERVER_ERROR_MESSAGE);\n            }\n            setErrorPopupOpen(true);\n          });\n        } catch {\n          setPopupErrorText(SERVER_ERROR_MESSAGE);\n          setErrorPopupOpen(true);\n        }\n      });\n  }\n  function updateSavedArticles() {\n    mainApi.getSavedArticles()\n      .then((articlesInfo) => {\n        setSavedArticles(articlesInfo.data);\n      })\n      .catch((err) => {\n        try {\n          err.then((res) => {\n            setPopupErrorText(res.message || SERVER_ERROR_MESSAGE);\n            setErrorPopupOpen(true);\n          });\n        } catch {\n          setPopupErrorText(SERVER_ERROR_MESSAGE);\n          setErrorPopupOpen(true);\n        }\n      });\n  }\n  function handleDeleteArticle(id) {\n    mainApi.deleteArticleById(id)\n      .then(() => {\n        const newSavedArticles = savedArticles.filter((item) => item._id !== id);\n        setSavedArticles(newSavedArticles);\n        const currArticlesId = currentArticles.map((item) => item._id);\n        /** проверяем по id, есть ли на главной странице удаляемая карточка */\n        if (currArticlesId.includes(id)) {\n          /** если есть - заменяем ее на другую, без id */\n          const deletedArticle = currentArticles.find((item) => item._id === id);\n          const newArticle = {\n            keyword: deletedArticle.keyword,\n            title: deletedArticle.title,\n            text: deletedArticle.text,\n            date: deletedArticle.date,\n            source: deletedArticle.source,\n            link: deletedArticle.link,\n            image: deletedArticle.image,\n          };\n          // eslint-disable-next-line max-len\n          const newCurrArticles = currentArticles.map((item) => (item._id === id ? newArticle : item));\n          setCurrentArticles(newCurrArticles);\n          localStorage.setItem('currentArticles', JSON.stringify(newCurrArticles));\n        }\n      })\n      .catch((err) => {\n        try {\n          err.then((res) => {\n            if (res.statusCode === 400) {\n              setPopupErrorText(res.validation.params.message || SERVER_ERROR_MESSAGE);\n            } else {\n              setPopupErrorText(res.message || SERVER_ERROR_MESSAGE);\n            }\n            setErrorPopupOpen(true);\n          });\n        } catch {\n          setPopupErrorText(SERVER_ERROR_MESSAGE);\n          setErrorPopupOpen(true);\n        }\n      });\n  }\n  return (\n    <div className=\"app\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          pathname={location.pathname}\n          isLoggedIn={isUserLoggedIn}\n          openLoginPopup={handleLoginPopupOpen}\n          isMenu={false}\n          handleMenu={handleMenuMobile}\n          isButtonActive={isButtonMenuActive}\n          handleButtonMenu={handleMenuButtonMobile}\n          isHiddenHeaderButton={isHiddenHeaderButton()}\n          closeMenu={closeAllPopups}\n          onExit={handleExit}\n        />\n        <Switch>\n          <Route exact path=\"/\">\n            <Main\n              articles={currentArticles}\n              additionalArticles={additionalArticles}\n              isLoggedIn={isUserLoggedIn}\n              handleSearchFormSubmit={handleSearchFormSubmit}\n              isNewsCardListVisible={isNewsCardListVisible}\n              isPreloaderVisible={isPreloaderVisible}\n              handleShowMoreButton={handleShowMoreButton}\n              saveArticle={handleSaveArticle}\n              deleteArticle={handleDeleteArticle}\n              isNewsApiError={isNewsServerError}\n              isFormLoading={isFormLoading}\n            />\n          </Route>\n          <ProtectedRoute\n            path=\"/saved-news\"\n            component={SavedNews}\n            isUserLoggedIn={isUserLoggedIn}\n            articles={savedArticles}\n            openLoginPopup={handleLoginPopupOpen}\n            updateSavedArticles={updateSavedArticles}\n            deleteArticle={handleDeleteArticle}\n          />\n          <Route>\n            <Redirect to=\"/\" />\n          </Route>\n\n        </Switch>\n        <Footer />\n        <LoginPopup\n          isOpen={isLoginPopupOpen}\n          closeByEscAndOverlay={closePopupByEscAndOverlay}\n          onClose={closeAllPopups}\n          openRegisterPopup={handleRegisterPopupOpen}\n          loginErrorMessage={loginErrorMessage}\n          onSubmit={handleLogin}\n          isLoading={isFormLoading}\n        />\n        <RegisterPopup\n          isOpen={isRegisterPopupOpen}\n          closeByEscAndOverlay={closePopupByEscAndOverlay}\n          onClose={closeAllPopups}\n          openLoginPopup={handleLoginPopupOpen}\n          registerErrorMessage={registerErrorMessage}\n          onSubmit={handleRegistration}\n          isLoading={isFormLoading}\n        />\n        <UserRegisteredMessagePopup\n          isOpen={isUserRegisteredPopupOpen}\n          closeByEscAndOverlay={closePopupByEscAndOverlay}\n          onClose={closeAllPopups}\n          openLoginPopup={handleLoginPopupOpen}\n        />\n        <ErrorPopup\n          isOpen={isErrorPopupOpen}\n          closeByEscAndOverlay={closePopupByEscAndOverlay}\n          onClose={closeAllPopups}\n          errorText={popupErrorText}\n        />\n        <MobileMenu\n          isOpen={isMenuMobileOpen}\n          pathname={location.pathname}\n          isLoggedIn={isUserLoggedIn}\n          openLoginPopup={handleLoginPopupOpen}\n          handleMenu={handleMenuMobile}\n          isButtonActive={isButtonMenuActive}\n          handleButtonMenu={handleMenuButtonMobile}\n          closeByEscAndOverlay={closePopupByEscAndOverlay}\n          isHiddenHeaderButton={isHiddenHeaderButton()}\n          closeMenu={handleCloseMenu}\n          onExit={handleExit}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}